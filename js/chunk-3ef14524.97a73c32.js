(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ef14524","chunk-2d0c82e4","chunk-2d0c8df8"],{"15fd":function(e,t,r){"use strict";r("a4d3"),r("c975"),r("b64b");function l(e,t){if(null==e)return{};var r,l,a={},n=Object.keys(e);for(l=0;l<n.length;l++)r=n[l],t.indexOf(r)>=0||(a[r]=e[r]);return a}function a(e,t){if(null==e)return{};var r,a,n=l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.d(t,"a",(function(){return a}))},"3f50":function(e,t,r){"use strict";var l=r("a058"),a=r.n(l);a.a},"547f":function(e,t,r){"use strict";r.r(t),r.d(t,"GetList",(function(){return a})),r.d(t,"AddObj",(function(){return n})),r.d(t,"UpdateObj",(function(){return o})),r.d(t,"DelObj",(function(){return i}));var l=r("9bd2");function a(e){return Object(l["a"])({url:"/human/user/list",method:"get",params:e})}function n(e){return Object(l["a"])({url:"/human/user/create",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/human/user/update",method:"put",data:e})}function i(e){return Object(l["a"])({url:"/human/user/delete",method:"delete",params:{id:e}})}},5777:function(e,t,r){"use strict";r.r(t),r.d(t,"crudOptions",(function(){return a}));var l=r("c276"),a={columns:[{title:"姓名",key:"name",align:"center",type:"input",search:{disabled:!1},form:{rules:[{required:!0,message:"请填写姓名"}],editTemplateHandle:function(e){console.log("editTemplateHandle",this,e);var t=l["a"].getRole();console.log("role",t),1!==t&&(e.component.disabled=!0)}}},{title:"性别",key:"sex",align:"center",width:50,search:{},type:"select",form:{rules:[{required:!0,message:"请选择性别"}]},dict:{data:[{value:1,label:"男"},{value:2,label:"女"}]}},{title:"角色",key:"role",align:"center",width:100,search:{},type:"select",form:{rules:[{required:!0,message:"请选择性别"}]},dict:{data:[{value:2,label:"HR"},{value:3,label:"部门经理"},{value:4,label:"员工"}]}},{title:"部门",key:"deptId",align:"center",width:100,search:{},type:"select",form:{rules:[{required:!0,message:"请选择部门"}],component:{props:{filterable:!0,clearable:!0}},valueResolve:function(e,t){console.log("valueResolve",e,t)}},dict:{url:"/human/dept/list",value:"id",label:"deptName",isTree:!1}},{title:"岗位",key:"jobId",width:150,align:"center",search:{},type:"select",form:{rules:[{required:!1,message:"请选择岗位"}],component:{props:{filterable:!0,clearable:!0}}},dict:{url:"/human/job/list",value:"id",label:"jobName"}},{title:"任职资格",key:"qualification",align:"center",search:{},type:"select",form:{rules:[{required:!0,message:"请选择任职资格"}],component:{props:{filterable:!0,clearable:!0}}},dict:{data:[{value:1,label:"T1"},{value:2,label:"T2"},{value:3,label:"T3"},{value:4,label:"T4"},{value:5,label:"T5"},{value:6,label:"T6"},{value:7,label:"低级"},{value:8,label:"中级"},{value:9,label:"高级"},{value:10,label:"管理"}]}},{title:"联系方式",key:"tel",align:"center",search:{disabled:!0},type:"input",form:{rules:[{required:!0,message:"请填写联系方式"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{data:[{value:"sz",label:"深圳"},{value:"gz",label:"广州"},{value:"wh",label:"武汉"},{value:"sh",label:"上海"}]}},{title:"邮箱地址",key:"email",width:200,align:"center",search:{disabled:!0},type:"input",form:{rules:[{required:!1,message:"请填写邮箱地址"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{}},{title:"紧急联系人",key:"urgentMan",align:"center",search:{disabled:!0},type:"input",form:{rules:[{required:!1,message:"请填写紧急联系人"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{data:[{value:"sz",label:"深圳"},{value:"gz",label:"广州"},{value:"wh",label:"武汉"},{value:"sh",label:"上海"}]}},{title:"紧急联系人电话",key:"urgentManTel",align:"center",search:{disabled:!0},type:"input",form:{rules:[{required:!1,message:"请填写紧急联系人电话"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{}},{title:"系统账号",key:"account",align:"center",search:{disabled:!0},type:"input",form:{rules:[{required:!0,message:"请填写系统账号"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{}},{title:"密码",align:"center",key:"password",search:{disabled:!0},type:"input",form:{rules:[{required:!0,message:"请填写密码"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{}}],page:{current:1,size:10,total:1},rowHandle:{width:300,custom:[{text:"员工详情",type:"primary",size:"small",emit:"custom-emit"}]}}},a058:function(e,t,r){},a82e:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("d2-container",[r("crud-search",{ref:"search",staticClass:"d2-mb-10",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch}}),r("d2-crud",{ref:"d2Crud",attrs:{columns:e.crud.columns,data:e.crud.list,rowHandle:e.crud.rowHandle,"edit-title":"修改","add-template":e.crud.addTemplate,"add-rules":e.crud.addRules,"edit-template":e.crud.editTemplate,"edit-rules":e.crud.editRules,"form-options":e.crud.formOptions,options:e.crud.options,loading:e.crud.loading},on:{"dialog-open":e.handleDialogOpen,"dialog-cancel":e.handleDialogCancel,"row-edit":e.handleRowEdit,"row-add":e.handleRowAdd,"row-remove":e.handleRowRemove,"form-data-change":e.handleFormDataChange,"custom-emit":e.customEmit}},[r("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header",icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addRow},slot:"header"},[e._v("新增")]),r("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header",icon:"el-icon-download",size:"small",type:"ghost"},on:{click:e.exportExcel},slot:"header"},[e._v("导出")])],1),r("crud-footer",{ref:"footer",attrs:{slot:"footer",current:e.crud.page.current,size:e.crud.page.size,total:e.crud.page.total},on:{change:e.handlePaginationChange},slot:"footer"}),r("el-drawer",{attrs:{title:"员工详情",visible:e.drawer,direction:"rtl"},on:{"update:visible":function(t){e.drawer=t}}},[r("div",{staticClass:"user_detail_info_wrapper"},e._l(Object.keys(e.detailInfo),(function(t){return r("p",{key:t,staticClass:"user_detail_info",style:{display:e.getTitle(t)?"inline-block":"none"}},[e.getTitle(t)?r("span",[e._v(e._s(e.getTitle(t)))]):e._e(),e.getTitle(t)?r("span",[e._v(e._s("role"===t?1==e.detailInfo[t]?"管理员":2==e.detailInfo[t]?"人事专员":3==e.detailInfo[t]?"部门经理":"员工":e.detailInfo[t]))]):e._e()])})),0),r("span")])],1)},a=[],n=(r("a4d3"),r("99af"),r("4de4"),r("c975"),r("a15b"),r("d81d"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=r("15fd"),i=r("5777"),c=r("1fbf"),u=r("547f"),s=r("c276"),d=r("c1df"),p=r.n(d);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={name:"employeeManage",data:function(){return{drawer:!1,domain:"192.168.43.113:8081/",detailInfo:{},hideColumns:["urgentMan","urgentManTel","account","password"]}},mixins:[c["d2CrudPlus"].crud],methods:{getCrudOptions:function(){return i["crudOptions"]},pageRequest:function(e){var t=s["a"].cookies.get("role"),r=e.current,l=e.size,a=Object(o["a"])(e,["current","size"]),n=f({roleType:t,page:r,size:l},a);return Object(u["GetList"])(n).then((function(e){console.log("employeeManage list res",e);var t=e||{},r=t.list,l=t.total,a=t.page,n=t.size,o={data:{records:r,current:a,size:n,total:l}};return o}))},addRequest:function(e){return Object(u["AddObj"])(e)},updateRequest:function(e){return Object(u["UpdateObj"])(e)},delRequest:function(e){return Object(u["DelObj"])(e.id)},customEmit:function(e){this.drawer=!0;var t=e||{},r=t.row,l=void 0===r?{}:r;this.detailInfo=l},exportExcel:function(){var e=this.getSearch(),t=e.form,r="http://".concat(this.domain,"/human/user/listExcel"),l=t.name,a=t.sex,n=t.role,o=t.deptId,i=t.jobId,c=t.qualification,u={name:l,sex:a,role:n,deptId:o,jobId:i,qualification:c},s=Object.keys(u).filter((function(e){return!!u[e]})).map((function(e){return"".concat(e,"=").concat(u[e])})).join("&"),d="".concat(r).concat(s&&"?"+s||"");console.log("exportExcel",d),window.open(d),console.log("exportExcel")},getTitle:function(e){var t=this.crud.columnsMap,r=t[e];return r?r.title:(console.log(r),"")},dateFormate:function(e){return p()(e).format("YYYY-MM-DD HH:mm:ss")}},computed:{},mounted:function(){var e=this;console.log("employeeManage did mount",this,this.crud.columns,this.detailInfo),this.crud.columns=this.crud.columns.filter((function(t){return-1===e.hideColumns.indexOf(t.key)})),console.log("********",this.crud)}},g=b,h=(r("3f50"),r("2877")),v=function(e){e.options.__source="src/views/employeeManage/index.vue"},y=v,O=Object(h["a"])(g,l,a,!1,null,"6c61cafb",null);"function"===typeof y&&y(O);t["default"]=O.exports}}]);